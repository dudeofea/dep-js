function Dep(b){var e={nullArgs:true};if(typeof b!="undefined"){e=b}var f=[];var d=[];var c=null;var a=function(){if(d.length==0){return false}for(var g=0;g<d.length;g++){if(d[g]!==true){return false}}if(c!=null){if(e.nullArgs===false){f=f.filter(function(h){return h!==null})}c.apply(null,f)}return true};this.addDep=function(){var h=d.length;d.push(false);f.push(null);var g=function(){if(arguments.length<1){f[h]=null}else{if(arguments.length==1){f[h]=arguments[0]}else{var i=Array.prototype.slice.call(arguments,0);f[h]=i.sort()}}d[h]=true;a()};return g};this.calc=function(g){c=g;a()}};